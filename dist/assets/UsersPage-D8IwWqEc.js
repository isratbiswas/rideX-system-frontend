import{r as m,u as x,a as u,b as h,j as s,z as l}from"./index-Bq0ikcyt.js";const g=()=>{const[t,a]=m.useState("RIDER"),{data:i,isLoading:o,refetch:n}=x({role:t}),[r]=u(),[c]=h();if(o)return s.jsx("div",{className:"p-4",children:"Loading..."});const d=async e=>{try{e.isActive==="ACTIVE"||e.isActive==="UNBLOCKED"?await r(e._id).unwrap():await c(e._id).unwrap(),l.success(`${e.name} is now ${e.isActive}`),n()}catch{l.error("Action failed. Try again.")}};return s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Users by Role"}),s.jsxs("select",{className:"border p-2 rounded mb-4",value:t,onChange:e=>a(e.target.value),children:[s.jsx("option",{value:"RIDER",children:"Rider"}),s.jsx("option",{value:"DRIVER",children:"Driver"})]}),s.jsx("ul",{className:"w-full",children:i?.map(e=>s.jsxs("li",{className:"bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col md:flex-row justify-between items-start md:items-center hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:gap-6 w-full md:w-2/3 mb-3 md:mb-0",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e.name}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.email})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[t==="RIDER"&&s.jsx("button",{className:`flex-1 md:flex-none px-4 py-2 rounded-md font-medium text-white transition-colors duration-200 ${e.isActive==="ACTIVE"||e.isActive==="UNBLOCKED"?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,onClick:()=>d(e),children:e.isActive==="ACTIVE"||e.isActive==="UNBLOCKED"?"Block":"Unblock"}),t==="DRIVER"&&s.jsx("button",{className:"flex-1 md:flex-none px-4 py-2 rounded-md font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-200",onClick:()=>console.log("Driver requested status for",e._id),children:e.availabilityStatus??"No Status"})]})]},e._id))})]})};export{g as default};
